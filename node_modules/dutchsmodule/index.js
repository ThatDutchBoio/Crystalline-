const Canvas = require('canvas')
const discord = require('discord.js')

exports.makeEmbed = (title, description, fields, color, timestamp, userForAvatar) => {
    const embed = new discord.MessageEmbed()
        .setTitle(title)
        .setDescription(description)
    if (fields) {
        const keys = Object.keys(fields);
        for (i = 0; i < Object.keys(fields).length; i++) {
            embed.addField(keys[i], fields[keys[i]], false)
        }
    }
    color = color.toUpperCase();
    embed.setColor(color)
    if (timestamp == true) embed.setTimestamp();
    if (userForAvatar) embed.setAuthor(userForAvatar.tag, userForAvatar.avatarURL({dynamic: false,format: 'png',size: 512 }));

    return embed;
}